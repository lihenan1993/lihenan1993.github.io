---
title: Raft
category: blockchain
typora-root-url: ../..
---



## Raft

拜占庭容错的低配版，不考虑节点作恶，只考虑节点掉线的问题。

最大容错故障节点：（N-1）/2

### 状态

- 领导者 leader : 具备系统修改数据的权限，发送修改后的数据给其他节点

- 跟随者 follower：根据领导者发送的数据，修改本地账本 

- 候选人 candidate： 随机时间结束后，竞选领导者，得票数大于一半节点成为leader

### 过程

- 领导者选举：跟随者倒计时器结束，转为候选者

- 日志复制

  - 记录日志：领导者将**准备修改**的数据发送给跟随者，等大于一半的跟随者返回写入完成
  - 提交数据：领导者提交数据，并通知跟随者，数据已提交。

  此时全网达到共识

### 理解

https://www.bilibili.com/video/BV1yJ411P76f?from=search&seid=14862471713314513579

