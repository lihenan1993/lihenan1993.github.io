---
title: 并发编程
category: Golang
---



### 并发编程

1. 概念

   并发：同一时间段内执行多个操作。

   并行：同一时刻执行多个操作。

   

2. 多线程
   1. 线程是由操作系统进行管理，也就是处于内核态
   2. 线程之间进行切换，需要发生用户态到内核态的切换
   3. 当系统中运行大量线程，系统会变的非常慢
   4. 用户态的线程，支持大量线程创建。叫做协程或者goroutine

#### Goroutine使用介绍

1. 函数前面加关键字 go

2. 多核控制
   1. 通过runtime包进行多核设置
   2. GOMAXPROCS设置当前程序运行时占用的CPU核数
   3. NumCPU获取当前系统的cpu核数
   4. 1.6+版本，默认情况下，开启所有核心
3. Goroutine原理浅析
   1. 一个操作系统线程对应用户态多个goroutine
   2. 同时使用多个操作系统线程
   3. 操作系统线程对goroutine是多对多关系，即 M:N