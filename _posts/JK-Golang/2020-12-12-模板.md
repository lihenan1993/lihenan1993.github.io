---
title: concurrency
category: JK-Go
typora-root-url: ../..
---

 ## Goroutine

进程：操作系统给每个应用一个进程

主线程：main函数

普通线程：操作系统调度不同的线程

使用原则：

1. 让你自己忙或自己做这项工作
   1. 如果你的 goroutine 在从另一个 goroutine 获得结果之前无法取得进展，那么通常情况下，你自己去做这项工作比委托它( go func() )更简单。
2. 不要启动一个goroutine却不知道他什么时候结束
   1. 确定什么时候结束
   2. 如何结束
3. log.Fatal 结束程序的时候，不会执行defer ，所以只能在main.main 或者 init 函数中使用



## Memory model





## Package sync



## chan



## Package context



